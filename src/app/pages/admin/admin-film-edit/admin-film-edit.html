<h2>✏ Rediger film</h2>

@if (film; as f) {
  <form (ngSubmit)="saveChanges(editForm)" #editForm="ngForm" class="form">
    <div class="row">
      <label for="titel">Titel</label>
      <input id="titel" [(ngModel)]="f.titel" name="titel" required />
    </div>

    <div class="row">
      <label for="beskrivelse">Beskrivelse</label>
      <textarea
        id="beskrivelse"
        [(ngModel)]="f.beskrivelse"
        name="beskrivelse"
        required
        rows="4"
      ></textarea>
    </div>

    <div class="row">
      <label for="aar">År</label>
      <input id="aar" type="number" [(ngModel)]="f.aar" name="aar" required />
    </div>

    <div class="row">
      <label for="genre">Genre</label>
      <input id="genre" [(ngModel)]="f.genre" name="genre" required />
    </div>

    @if (error) {
      <p class="error">{{ error }}</p>
    }

    <div class="actions">
      <button type="submit" class="btn btn-save" [disabled]="editForm.invalid || saving">
        @if (saving) { Gemmer... } @else { Gem ændringer }
      </button>

      <a routerLink="/admin/film" class="btn btn-cancel">Afbryd</a>
    </div>
  </form>
} @else {
  <p>⚠ Filmen blev ikke fundet.</p>
  <a routerLink="/admin/film">Tilbage til listen</a>
}
